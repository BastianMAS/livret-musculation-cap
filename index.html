<

        // DonnÃ©es pour Cours & Ressources
        const coursData = {
            mobiles: [
                {
                    nom: "Force Maximale",
                    emoji: "ðŸ‹ï¸",
                    objectif: "DÃ©velopper la force pure",
                    charges: "85-100% du 1RM",
                    series: "3-6 sÃ©ries",
                    repetitions: "1-5 rÃ©pÃ©titions",
                    repos: "3-5 minutes",
                    tempo: "Explosif/ContrÃ´lÃ©",
                    frequence: "2-3 fois/semaine",
                    exemples: "Squat lourd, DÃ©veloppÃ© couchÃ©, SoulevÃ© de terre",
                    benefices: "Augmentation force maximale, Recrutement fibres rapides, Performance athlÃ©tique",
                    precautions: "Ã‰chauffement approfondi, Technique parfaite, RÃ©cupÃ©ration importante"
                },
                {
                    nom: "Hypertrophie (Prise de muscle)",
                    emoji: "ðŸ’ª",
                    objectif: "Augmenter la masse musculaire",
                    charges: "65-85% du 1RM",
                    series: "3-5 sÃ©ries",
                    repetitions: "6-12 rÃ©pÃ©titions",
                    repos: "60-90 secondes",
                    tempo: "2-0-2 (ContrÃ´lÃ©)",
                    frequence: "3-5 fois/semaine",
                    exemples: "DÃ©veloppÃ© inclinÃ©, Rowing, Curl biceps",
                    benefices: "Volume musculaire, EsthÃ©tique, MÃ©tabolisme augmentÃ©",
                    precautions: "Variation des exercices, Nutrition adaptÃ©e, Repos suffisant"
                },
                {
                    nom: "Endurance Musculaire",
                    emoji: "ðŸ”¥",
                    objectif: "AmÃ©liorer l'endurance locale",
                    charges: "40-65% du 1RM",
                    series: "2-4 sÃ©ries",
                    repetitions: "12-20+ rÃ©pÃ©titions",
                    repos: "30-60 secondes",
                    tempo: "1-0-1 (Rapide)",
                    frequence: "4-6 fois/semaine",
                    exemples: "Circuit training, Extensions jambes, Pompes",
                    benefices: "Endurance locale, Tonus musculaire, RÃ©sistance Ã  la fatigue",
                    precautions: "Hydratation ++, Progression graduelle, Risque de surentraÃ®nement"
                }
            ],
            
            nutritionPlans: {
                perte: {
                    nom: "Plan Perte de Poids",
                    emoji: "ðŸ”¥",
                    deficit: "-300 Ã  -500 kcal/jour",
                    proteines: "2.0-2.5g/kg",
                    glucides: "2-3g/kg",
                    lipides: "0.8-1g/kg",
                    repas: [
                        "Petit-dÃ©jeuner: Å’ufs, flocons d'avoine, fruits rouges",
                        "Collation: Yaourt grec, amandes",
                        "DÃ©jeuner: Poulet grillÃ©, quinoa, lÃ©gumes verts",
                        "Collation: ProtÃ©ine shake, pomme",
                        "DÃ®ner: Poisson, patate douce, brocolis"
                    ],
                    conseils: [
                        "DÃ©ficit calorique modÃ©rÃ©",
                        "Maintenir les protÃ©ines Ã©levÃ©es",
                        "Favoriser les aliments rassasiants",
                        "Boire 2-3L d'eau par jour",
                        "Cardio lÃ©ger 2-3x/semaine"
                    ]
                },
                prise: {
                    nom: "Plan Prise de Muscle",
                    emoji: "ðŸ’ª",
                    surplus: "+300 Ã  +500 kcal/jour",
                    proteines: "1.8-2.2g/kg",
                    glucides: "4-6g/kg",
                    lipides: "1-1.2g/kg",
                    repas: [
                        "Petit-dÃ©jeuner: Pancakes protÃ©inÃ©s, beurre d'amande, banane",
                        "Collation: Flocons d'avoine, whey, fruits secs",
                        "DÃ©jeuner: BÅ“uf, riz basmati, avocat, lÃ©gumes",
                        "Collation: Pain complet, thon, fromage blanc",
                        "DÃ®ner: Saumon, pÃ¢tes complÃ¨tes, huile d'olive, salade"
                    ],
                    conseils: [
                        "Surplus calorique contrÃ´lÃ©",
                        "Glucides autour de l'entraÃ®nement",
                        "5-6 repas par jour",
                        "ProtÃ©ines Ã  chaque repas",
                        "Patience et rÃ©gularitÃ©"
                    ]
                },
                equilibre: {
                    nom: "Plan Ã‰quilibrÃ©",
                    emoji: "âš–ï¸",
                    calories: "Maintien (poids stable)",
                    proteines: "1.6-2.0g/kg",
                    glucides: "3-4g/kg",
                    lipides: "1g/kg",
                    repas: [
                        "Petit-dÃ©jeuner: Porridge, fruits frais, noix",
                        "Collation: Fruits, quelques amandes",
                        "DÃ©jeuner: Viande maigre, riz/pÃ¢tes, lÃ©gumes variÃ©s",
                        "Collation: Fromage blanc, miel",
                        "DÃ®ner: Poisson ou volaille, lÃ©gumineuses, salade"
                    ],
                    conseils: [
                        "80/20 : 80% aliments sains, 20% plaisir",
                        "VariÃ©tÃ© dans l'assiette",
                        "Ã‰couter sa faim",
                        "Hydratation rÃ©guliÃ¨re",
                        "FlexibilitÃ© et plaisir"
                    ]
                }
            },
            
            hygiene: {
                sommeil: [
                    "7-9h de sommeil par nuit minimum",
                    "Horaires rÃ©guliers (coucher/lever)",
                    "Chambre fraÃ®che (18-20Â°C)",
                    "Ã‰viter Ã©crans 1h avant le coucher",
                    "Routine de relaxation",
                    "Pas de cafÃ©ine aprÃ¨s 16h"
                ],
                hydratation: [
                    "Minimum 2-3L d'eau par jour",
                    "+500ml pour chaque heure d'entraÃ®nement",
                    "Eau avant/pendant/aprÃ¨s l'effort",
                    "Surveiller la couleur des urines (jaune clair)",
                    "Augmenter par temps chaud",
                    "Ã‰lectrolytes si effort > 1h"
                ],
                recuperation: [
                    "1-2 jours de repos complet par semaine",
                    "Ã‰tirements lÃ©gers quotidiens",
                    "Foam roller / automassages",
                    "Gestion du stress (mÃ©ditation, respiration)",
                    "Bains froids ou chauds selon besoins",
                    "Ã‰couter son corps (fatigue, douleurs)"
                ]
            },
            
            conseilsSeance: {
                avant: [
                    "Repas 2-3h avant l'entraÃ®nement",
                    "Collation glucidique 30-60min avant si besoin",
                    "Hydratation : 500ml d'eau 2h avant",
                    "Ã‰chauffement gÃ©nÃ©ral : 5-10min cardio lÃ©ger",
                    "Mobilisation articulaire spÃ©cifique",
                    "Ã‰chauffement spÃ©cifique : sÃ©ries lÃ©gÃ¨res progressives"
                ],
                pendant: [
                    "Respiration : expirer sur l'effort",
                    "Hydratation : petites gorgÃ©es rÃ©guliÃ¨res",
                    "Concentration sur la technique",
                    "Tempo contrÃ´lÃ© (Ã©viter balancement)",
                    "Repos entre sÃ©ries respectÃ©s",
                    "Noter ses performances (carnet/app)"
                ],
                apres: [
                    "Retour au calme : 5min cardio lÃ©ger",
                    "Ã‰tirements statiques lÃ©gers (10-15min)",
                    "RÃ©hydratation immÃ©diate",
                    "Collation protÃ©ines+glucides dans les 30-60min",
                    "Douche tiÃ¨de ou froide selon prÃ©fÃ©rence",
                    "Sommeil de qualitÃ© pour rÃ©cupÃ©ration"
                ]
            },
            
            quizQuestions: [
                {
                    question: "Quel muscle est responsable de la flexion du coude ?",
                    options: ["Triceps", "Biceps", "DeltoÃ¯de", "TrapÃ¨ze"],
                    correct: 1,
                    explication: "Le biceps brachial est le principal muscle flÃ©chisseur du coude."
                },
                {
                    question: "Les pectoraux sont situÃ©s oÃ¹ ?",
                    options: ["Sur le dos", "Sur la poitrine", "Sur les Ã©paules", "Sur les bras"],
                    correct: 1,
                    explication: "Les pectoraux (grand et petit pectoral) sont les muscles de la poitrine."
                },
                {
                    question: "Quel est le plus grand muscle du corps humain ?",
                    options: ["Grand dorsal", "Grand fessier", "Quadriceps", "Grand pectoral"],
                    correct: 1,
                    explication: "Le grand fessier (gluteus maximus) est le muscle le plus volumineux du corps."
                },
                {
                    question: "Les quadriceps sont composÃ©s de combien de chefs ?",
                    options: ["2", "3", "4", "5"],
                    correct: 2,
                    explication: "Les quadriceps sont composÃ©s de 4 chefs : vaste latÃ©ral, vaste mÃ©dial, vaste intermÃ©diaire et droit fÃ©moral."
                },
                {
                    question: "Quel muscle permet la rotation externe de l'Ã©paule ?",
                    options: ["Infra-Ã©pineux", "Biceps", "Triceps", "Pectoral"],
                    correct: 0,
                    explication: "L'infra-Ã©pineux fait partie de la coiffe des rotateurs et permet la rotation externe de l'Ã©paule."
                },
                {
                    question: "Les ischio-jambiers sont situÃ©s Ã  l'arriÃ¨re de quelle partie du corps ?",
                    options: ["Bras", "Avant-bras", "Cuisse", "Mollet"],
                    correct: 2,
                    explication: "Les ischio-jambiers sont situÃ©s Ã  l'arriÃ¨re de la cuisse."
                },
                {
                    question: "Quel muscle forme le 'V' du dos ?",
                    options: ["TrapÃ¨ze", "Grand dorsal", "RhomboÃ¯de", "DeltoÃ¯de"],
                    correct: 1,
                    explication: "Le grand dorsal (latissimus dorsi) crÃ©e la forme en V caractÃ©ristique du dos."
                },
                {
                    question: "Les deltoÃ¯des sont composÃ©s de combien de faisceaux ?",
                    options: ["1", "2", "3", "4"],
                    correct: 2,
                    explication: "Les deltoÃ¯des ont 3 faisceaux : antÃ©rieur, moyen (latÃ©ral) et postÃ©rieur."
                },
                {
                    question: "Quel muscle est sollicitÃ© lors d'un crunch abdominal ?",
                    options: ["Obliques", "Grand droit", "Transverse", "Tous ces muscles"],
                    correct: 3,
                    explication: "Le crunch sollicite principalement le grand droit, mais aussi les obliques et le transverse de faÃ§on secondaire."
                },
                {
                    question: "Les gastrocnÃ©miens font partie de quel groupe musculaire ?",
                    options: ["Quadriceps", "Ischio-jambiers", "Mollets", "Tibial"],
                    correct: 2,
                    explication: "Les gastrocnÃ©miens (jumeaux) forment la masse principale des mollets avec le solÃ©aire."
                }
            ],
            
            exercicesBase: {
                pectoraux: [
                    {
                        nom: "DÃ©veloppÃ© couchÃ©",
                        description: "Exercice de base pour les pectoraux",
                        execution: "AllongÃ© sur banc, descendre la barre au niveau des tÃ©tons, remonter en contractant",
                        muscles: "Pectoraux, triceps, deltoÃ¯des antÃ©rieurs"
                    },
                    {
                        nom: "DÃ©veloppÃ© inclinÃ©",
                        description: "Cible le haut des pectoraux",
                        execution: "Banc inclinÃ© 30-45Â°, mÃªme mouvement que le dÃ©veloppÃ© couchÃ©",
                        muscles: "Haut des pectoraux, deltoÃ¯des antÃ©rieurs"
                    },
                    {
                        nom: "Ã‰cartÃ© haltÃ¨res",
                        description: "Ã‰tirement et contraction des pectoraux",
                        execution: "Bras semi-flÃ©chis, descendre latÃ©ralement, remonter en contractant",
                        muscles: "Pectoraux (Ã©tirement)"
                    }
                ],
                dos: [
                    {
                        nom: "Tractions",
                        description: "Exercice au poids de corps pour le dos",
                        execution: "Suspendre Ã  une barre, tirer jusqu'Ã  menton au niveau de la barre",
                        muscles: "Grand dorsal, biceps, trapÃ¨ze"
                    },
                    {
                        nom: "Rowing barre",
                        description: "DÃ©veloppement de l'Ã©paisseur du dos",
                        execution: "Buste penchÃ© 45Â°, tirer la barre vers le nombril",
                        muscles: "Grand dorsal, trapÃ¨ze, rhomboÃ¯des"
                    },
                    {
                        nom: "Tirage vertical",
                        description: "Alternative aux tractions",
                        execution: "Assis, tirer la barre vers le haut de la poitrine",
                        muscles: "Grand dorsal, biceps"
                    },
                    {
                        nom: "SoulevÃ© de terre",
                        description: "Exercice poly-articulaire complet",
                        execution: "Dos droit, soulever la barre du sol jusqu'Ã  position debout",
                        muscles: "Dos complet, ischio-jambiers, fessiers, trapÃ¨ze"
                    }
                ],
                jambes: [
                    {
                        nom: "Squat",
                        description: "Roi des exercices pour les jambes",
                        execution: "Barre sur les Ã©paules, descendre jusqu'Ã  parallÃ¨le ou plus, remonter",
                        muscles: "Quadriceps, fessiers, ischio-jambiers"
                    },
                    {
                        nom: "Presse Ã  cuisses",
                        description: "Alternative au squat",
                        execution: "Pieds sur la plateforme, descendre genoux vers poitrine, pousser",
                        muscles: "Quadriceps, fessiers"
                    },
                    {
                        nom: "Fentes",
                        description: "Exercice unilatÃ©ral pour les jambes",
                        execution: "Avancer une jambe, descendre genou arriÃ¨re vers le sol",
                        muscles: "Quadriceps, fessiers, ischio-jambiers"
                    },
                    {
                        nom: "Leg curl",
                        description: "Isolation des ischio-jambiers",
                        execution: "AllongÃ© ou assis, ramener les talons vers les fessiers",
                        muscles: "Ischio-jambiers"
                    }
                ],
                epaules: [
                    {
                        nom: "DÃ©veloppÃ© militaire",
                        description: "Exercice de base pour les Ã©paules",
                        execution: "Debout ou assis, pousser la barre au-dessus de la tÃªte",
                        muscles: "DeltoÃ¯des, triceps"
                    },
                    {
                        nom: "Ã‰lÃ©vations latÃ©rales",
                        description: "Isolation des deltoÃ¯des moyens",
                        execution: "Bras le long du corps, Ã©lever latÃ©ralement jusqu'Ã  l'horizontale",
                        muscles: "DeltoÃ¯de moyen"
                    },
                    {
                        nom: "Oiseau",
                        description: "Ciblage deltoÃ¯des postÃ©rieurs",
                        execution: "Buste penchÃ©, Ã©lever les bras latÃ©ralement",
                        muscles: "DeltoÃ¯de postÃ©rieur, trapÃ¨ze"
                    }
                ],
                bras: [
                    {
                        nom: "Curl barre",
                        description: "Exercice de base pour les biceps",
                        execution: "Debout, coudes fixes, flÃ©chir les avant-bras",
                        muscles: "Biceps"
                    },
                    {
                        nom: "Dips",
                        description: "Exercice au poids de corps pour les triceps",
                        execution: "Mains sur barres parallÃ¨les, descendre et remonter",
                        muscles: "Triceps, pectoraux"
                    },
                    {
                        nom: "Extension triceps poulie haute",
                        description: "Isolation des triceps",
                        execution: "Coudes fixes, tendre les bras vers le bas",
                        muscles: "Triceps"
                    }
                ],
                abdominaux: [
                    {
                        nom: "Crunch",
                        description: "Exercice de base pour les abdos",
                        execution: "AllongÃ©, relever le buste en contractant les abdominaux",
                        muscles: "Grand droit"
                    },
                    {
                        nom: "Planche",
                        description: "Gainage statique",
                        execution: "Position pompe sur avant-bras, tenir la position",
                        muscles: "Transverse, grand droit, obliques"
                    },
                    {
                        nom: "Russian twist",
                        description: "Rotation du buste pour les obliques",
                        execution: "Assis, pieds levÃ©s, rotation du buste de gauche Ã  droite",
                        muscles: "Obliques, grand droit"
                    }
                ]
            }
        };!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Livret Musculation CAP</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #0f172a 100%);
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 1rem; }
        .card { 
            background: rgba(255, 255, 255, 0.1); 
            backdrop-filter: blur(10px);
            border-radius: 1.5rem; 
            padding: 2rem; 
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            margin-bottom: 1.5rem;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            font-size: 1rem;
        }
        .btn:hover { transform: scale(1.05); }
        .btn-primary { 
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            color: white;
        }
        .btn-success { 
            background: linear-gradient(135deg, #10b981 0%, #14b8a6 100%);
            color: white;
        }
        .btn-secondary { 
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        .btn-danger { 
            background: rgba(239, 68, 68, 0.2);
            color: #fca5a5;
        }
        .btn-link {
            background: transparent;
            color: #67e8f9;
            text-decoration: underline;
            padding: 0.5rem;
            font-size: 0.875rem;
        }
        .input {
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }
        .input::placeholder { color: rgba(255, 255, 255, 0.5); }
        .input:focus { outline: none; border-color: #06b6d4; }
        select.input { 
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1rem;
            padding-right: 2.5rem;
        }
        .text-white { color: white; }
        .text-cyan { color: #67e8f9; }
        .text-center { text-align: center; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-4 { margin-bottom: 2rem; }
        .mt-2 { margin-top: 1rem; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 1rem; }
        .grid { display: grid; }
        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-cols-5 { grid-template-columns: repeat(5, 1fr); }
        .hidden { display: none; }
        .muscle-btn {
            padding: 0.75rem;
            border-radius: 0.75rem;
            border: none;
            font-weight: 500;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.2s;
        }
        .muscle-btn.active {
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            color: white;
            transform: scale(1.05);
        }
        .session-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
        }
        .session-card:hover { background: rgba(255, 255, 255, 0.15); }
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .badge-force { background: linear-gradient(135deg, #f97316 0%, #fb923c 100%); color: white; }
        .badge-endurance { background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%); color: white; }
        .badge-equilibre { background: linear-gradient(135deg, #10b981 0%, #14b8a6 100%); color: white; }
        .lock-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
        }
        .tab-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }
        .tab-btn.active {
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            color: white;
        }
        .rm-result {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(20, 184, 166, 0.2) 100%);
            border: 2px solid rgba(16, 185, 129, 0.5);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            margin: 1.5rem 0;
        }
        .rm-value {
            font-size: 3rem;
            font-weight: bold;
            color: #10b981;
            margin: 0.5rem 0;
        }
        .percentage-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .percentage-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.75rem;
            padding: 1rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .muscle-group-card {
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        .muscle-group-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .muscle-group-icon {
            width: 3rem;
            height: 3rem;
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        .exercise-row {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        @media (max-width: 768px) {
            .grid-cols-5 { grid-template-columns: repeat(2, 1fr); }
            .card { padding: 1rem; }
            .tab-btn { padding: 0.5rem 1rem; font-size: 0.875rem; }
        }
    
        
        /* Nouveaux styles pour Cours & Ressources */
        .sub-tab-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
        .sub-tab-btn.active {
            background: rgba(6, 182, 212, 0.3);
            color: white;
            border: 1px solid rgba(6, 182, 212, 0.5);
        }
        .table-responsive {
            overflow-x: auto;
            border-radius: 0.75rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.05);
        }
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
        }
        th {
            background: rgba(6, 182, 212, 0.2);
            font-weight: 600;
            color: #67e8f9;
        }
        tr:hover td {
            background: rgba(255, 255, 255, 0.05);
        }
        .info-box {
            background: rgba(6, 182, 212, 0.1);
            border-left: 4px solid #06b6d4;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
        }
        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 0.75rem;
            padding: 1rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
        }
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: #06b6d4;
        }
        .quiz-option.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: #10b981;
        }
        .quiz-option.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
        }
        .muscle-diagram {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
        }
        .muscle-label {
            display: inline-block;
            background: rgba(6, 182, 212, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            margin: 0.25rem;
            font-size: 0.9rem;
        }
        .exercise-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        .nutrition-plan {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(20, 184, 166, 0.1) 100%);
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }</style>
</head>
<body>
    <div id="app"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script><script>
        const storage = {
            get(key, shared = false) {
                const storageKey = shared ? `shared_${key}` : key;
                const value = localStorage.getItem(storageKey);
                return value ? { key, value, shared } : null;
            },
            set(key, value, shared = false) {
                const storageKey = shared ? `shared_${key}` : key;
                localStorage.setItem(storageKey, value);
                return { key, value, shared };
            },
            delete(key, shared = false) {
                const storageKey = shared ? `shared_${key}` : key;
                localStorage.removeItem(storageKey);
                return { key, deleted: true, shared };
            }
        };

        const securityQuestions = [
            "Quel est le nom de votre animal de compagnie ?",
            "Quel est votre plat prÃ©fÃ©rÃ© ?",
            "Dans quelle ville Ãªtes-vous nÃ©(e) ?",
            "Quel est le prÃ©nom de votre meilleur(e) ami(e) ?",
            "Quel est votre sport prÃ©fÃ©rÃ© ?"
        ];

        const muscleGroups = {
            'Pectoraux': ['dÃ©veloppÃ© couchÃ©', 'dÃ©veloppÃ© inclinÃ©', 'dÃ©veloppÃ© dÃ©clinÃ©', 'Ã©cartÃ©', 'dips', 'pompes', 'pec deck', 'butterfly'],
            'Dorsaux': ['tractions', 'tirage', 'rowing', 'pull over', 'soulevÃ© de terre'],
            'Ã‰paules': ['dÃ©veloppÃ© militaire', 'Ã©lÃ©vation latÃ©rale', 'oiseau', 'Ã©lÃ©vation frontale', 'dÃ©veloppÃ© arnold'],
            'Biceps': ['curl', 'biceps', 'traction supination'],
            'Triceps': ['dips', 'extension', 'triceps', 'barre au front'],
            'Quadriceps': ['squat', 'presse', 'leg extension', 'fente', 'hack squat'],
            'Ischio-jambiers': ['leg curl', 'soulevÃ© de terre jambes tendues', 'good morning'],
            'Mollets': ['mollet', 'calf'],
            'Abdominaux': ['crunch', 'abdos', 'planche', 'gainage', 'relevÃ© de jambes'],
            'Fessiers': ['hip thrust', 'fessier', 'abduction', 'kickback']
        };

        function getMuscleGroup(exerciceName) {
            const name = exerciceName.toLowerCase();
            for (const [group, keywords] of Object.entries(muscleGroups)) {
                if (keywords.some(keyword => name.includes(keyword))) {
                    return group;
                }
            }
            return 'Autre';
        }

        function calculate1RM(weight, reps) {
            if (reps === 1) return weight;
            return Math.round(weight / (1.0278 - 0.0278 * reps));
        }

        class LivretApp {
            constructor() {
                this.isLoggedIn = false;
                this.currentUser = null;
                this.loginMode = 'login';
                this.resetMode = false;
                this.currentTab = 'sessions';
                this.sessions = [];
                this.currentSession = null;
                this.expandedSession = null;
                this.rmHistory = [];
                this.currentRM = null;
                this.musclesList = ['Pectoraux', 'Dorsaux', 'Ã‰paules', 'Biceps', 'Triceps', 'Quadriceps', 'Ischio-jambiers', 'Mollets', 'Abdominaux', 'Fessiers'];
                this.objectifs = [
                    { value: 'force', label: 'Mobile 1 : DÃ©velopper sa force maximale', badge: 'badge-force' },
                    { value: 'endurance', label: 'Mobile 2 : DÃ©velopper son endurance musculaire', badge: 'badge-endurance' },
                    { value: 'equilibre', label: 'Mobile 3 : DÃ©velopper un physique Ã©quilibrÃ©', badge: 'badge-equilibre' }
                ];
                this.init();
            }

            init() {
                this.checkLogin();
                this.render();
            }

            checkLogin() {
                const userResult = storage.get('current-user');
                if (userResult) {
                    this.currentUser = JSON.parse(userResult.value);
                    this.isLoggedIn = true;
                    this.loadUserData();
                }
            }

            loadUserData() {
                const sessionsKey = `sessions-${this.currentUser.username}`;
                const sessionsResult = storage.get(sessionsKey);
                if (sessionsResult) {
                    this.sessions = JSON.parse(sessionsResult.value);
                }
                
                const rmKey = `rm-history-${this.currentUser.username}`;
                const rmResult = storage.get(rmKey);
                if (rmResult) {
                    this.rmHistory = JSON.parse(rmResult.value);
                }
            }

            saveUserData() {
                const sessionsKey = `sessions-${this.currentUser.username}`;
                storage.set(sessionsKey, JSON.stringify(this.sessions));
                alert('DonnÃ©es sauvegardÃ©es');
            }

            saveRMHistory() {
                const rmKey = `rm-history-${this.currentUser.username}`;
                storage.set(rmKey, JSON.stringify(this.rmHistory));
            }

            getBestRMByMuscleGroup() {
                const grouped = {};
                
                this.rmHistory.forEach(rm => {
                    const group = getMuscleGroup(rm.exercice);
                    
                    if (!grouped[group]) {
                        grouped[group] = [];
                    }
                    
                    grouped[group].push(rm);
                });

                const best = {};
                Object.keys(grouped).forEach(group => {
                    const exercises = {};
                    grouped[group].forEach(rm => {
                        if (!exercises[rm.exercice] || exercises[rm.exercice].rm1 < rm.rm1) {
                            exercises[rm.exercice] = rm;
                        }
                    });
                    best[group] = Object.values(exercises).sort((a, b) => b.rm1 - a.rm1);
                });

                return best;
            }

            calculateRM(e) {
                e.preventDefault();
                const exercice = document.getElementById('rm-exercice').value;
                const weight = parseFloat(document.getElementById('rm-weight').value);
                const reps = parseInt(document.getElementById('rm-reps').value);

                if (!exercice || !weight || !reps || reps < 1 || reps > 12) {
                    alert('Veuillez remplir tous les champs correctement (1-12 rÃ©pÃ©titions)');
                    return;
                }

                const rm1 = calculate1RM(weight, reps);
                
                this.currentRM = {
                    id: Date.now(),
                    exercice: exercice,
                    weight: weight,
                    reps: reps,
                    rm1: rm1,
                    date: new Date().toISOString()
                };

                this.rmHistory.unshift(this.currentRM);
                if (this.rmHistory.length > 50) {
                    this.rmHistory = this.rmHistory.slice(0, 50);
                }
                
                this.saveRMHistory();
                this.render();
            }

            deleteRM(id) {
                if (confirm('Supprimer ce calcul ?')) {
                    this.rmHistory = this.rmHistory.filter(rm => rm.id !== id);
                    this.saveRMHistory();
                    this.render();
                }
            }

            handleLogin(e) {
                e.preventDefault();
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                
                const userKey = `user-${username}`;
                const userResult = storage.get(userKey, true);
                
                if (!userResult) {
                    alert('Nom utilisateur incorrect');
                    return;
                }
                
                const userData = JSON.parse(userResult.value);
                if (userData.password !== password) {
                    alert('Mot de passe incorrect');
                    return;
                }
                
                storage.set('current-user', JSON.stringify(userData));
                this.currentUser = userData;
                this.isLoggedIn = true;
                this.loadUserData();
                this.render();
            }

            handleSignup(e) {
                e.preventDefault();
                const fullName = document.getElementById('signup-fullname').value;
                const username = document.getElementById('signup-username').value.toLowerCase().replace(/\s+/g, '');
                const password = document.getElementById('signup-password').value;
                const confirmPassword = document.getElementById('signup-confirm').value;
                const securityQuestion = document.getElementById('signup-question').value;
                const securityAnswer = document.getElementById('signup-answer').value.toLowerCase().trim();
                
                if (password !== confirmPassword) {
                    alert('Les mots de passe ne correspondent pas');
                    return;
                }
                
                if (password.length < 4) {
                    alert('Le mot de passe doit contenir au moins 4 caractÃ¨res');
                    return;
                }

                if (!securityAnswer) {
                    alert('Veuillez rÃ©pondre Ã  la question de sÃ©curitÃ©');
                    return;
                }

                const userKey = `user-${username}`;
                const existingUser = storage.get(userKey, true);
                
                if (existingUser) {
                    alert('Ce nom utilisateur existe dÃ©jÃ ');
                    return;
                }
                
                const newUser = {
                    username: username,
                    password: password,
                    fullName: fullName,
                    securityQuestion: securityQuestion,
                    securityAnswer: securityAnswer,
                    createdAt: new Date().toISOString()
                };
                
                storage.set(userKey, JSON.stringify(newUser), true);
                storage.set('current-user', JSON.stringify(newUser));
                
                this.currentUser = newUser;
                this.isLoggedIn = true;
                alert('Compte crÃ©Ã© avec succÃ¨s');
                this.render();
            }

            handlePasswordReset(e) {
                e.preventDefault();
                const username = document.getElementById('reset-username').value;
                const answer = document.getElementById('reset-answer').value.toLowerCase().trim();
                const newPassword = document.getElementById('reset-newpassword').value;
                const confirmPassword = document.getElementById('reset-confirm').value;

                const userKey = `user-${username}`;
                const userResult = storage.get(userKey, true);
                
                if (!userResult) {
                    alert('Nom utilisateur incorrect');
                    return;
                }

                const userData = JSON.parse(userResult.value);

                if (userData.securityAnswer !== answer) {
                    alert('RÃ©ponse incorrecte');
                    return;
                }

                if (newPassword !== confirmPassword) {
                    alert('Les mots de passe ne correspondent pas');
                    return;
                }

                if (newPassword.length < 4) {
                    alert('Le mot de passe doit contenir au moins 4 caractÃ¨res');
                    return;
                }

                userData.password = newPassword;
                storage.set(userKey, JSON.stringify(userData), true);
                
                alert('Mot de passe rÃ©initialisÃ©');
                this.resetMode = false;
                this.render();
            }

            handleLogout() {
                if (confirm('Vous dÃ©connecter ?')) {
                    storage.delete('current-user');
                    this.isLoggedIn = false;
                    this.currentUser = null;
                    this.sessions = [];
                    this.currentSession = null;
                    this.currentTab = 'sessions';
                    this.render();
                }
            }

            createNewSession() {
                this.currentSession = {
                    id: Date.now(),
                    date: new Date().toISOString().split('T')[0],
                    objectif: 'force',
                    echauffement: { cardio: '', mobilisation: '', activation: '' },
                    exercices: [],
                    muscles: [],
                    ressenti: '',
                    progression: ''
                };
                this.currentTab = 'sessions';
                this.render();
            }

            saveSession() {
                const date = document.getElementById('session-date').value;
                const objectif = document.getElementById('session-objectif').value;
                const cardio = document.getElementById('echauf-cardio').value;
                const mobilisation = document.getElementById('echauf-mobilisation').value;
                const activation = document.getElementById('echauf-activation').value;
                const ressenti = document.getElementById('session-ressenti').value;
                const progression = document.getElementById('session-progression').value;
                
                this.currentSession.date = date;
                this.currentSession.objectif = objectif;
                this.currentSession.echauffement = { cardio, mobilisation, activation };
                this.currentSession.ressenti = ressenti;
                this.currentSession.progression = progression;
                
                const existingIndex = this.sessions.findIndex(s => s.id === this.currentSession.id);
                
                if (existingIndex >= 0) {
                    this.sessions[existingIndex] = this.currentSession;
                } else {
                    this.sessions.push(this.currentSession);
                }
                
                const sessionsKey = `sessions-${this.currentUser.username}`;
                storage.set(sessionsKey, JSON.stringify(this.sessions));
                
                this.currentSession = null;
                this.render();
            }

            deleteSession(id) {
                if (confirm('Supprimer cette sÃ©ance ?')) {
                    this.sessions = this.sessions.filter(s => s.id !== id);
                    const sessionsKey = `sessions-${this.currentUser.username}`;
                    storage.set(sessionsKey, JSON.stringify(this.sessions));
                    this.render();
                }
            }

            addExercice() {
                this.currentSession.exercices.push({ nom: '', series: '', repetitions: '', charge: '', repos: '' });
                this.renderExercices();
            }

            removeExercice(index) {
                this.currentSession.exercices.splice(index, 1);
                this.renderExercices();
            }

            toggleMuscle(muscle) {
                const index = this.currentSession.muscles.indexOf(muscle);
                if (index > -1) {
                    this.currentSession.muscles.splice(index, 1);
                } else {
                    this.currentSession.muscles.push(muscle);
                }
                this.renderMuscles();
            }render() {
                const app = document.getElementById('app');
                
                if (!this.isLoggedIn) {
                    if (this.resetMode) {
                        app.innerHTML = this.renderPasswordReset();
                        this.attachResetEvents();
                    } else {
                        app.innerHTML = this.renderLogin();
                        this.attachLoginEvents();
                    }
                } else if (this.currentSession) {
                    app.innerHTML = this.renderSessionForm();
                    this.attachSessionFormEvents();
                } else {
                    app.innerHTML = this.renderDashboard();
                    this.attachDashboardEvents();
                }
            }

            renderPasswordReset() {
                return `
                    <div class="container" style="min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                        <div class="card" style="max-width: 500px; width: 100%;">
                            <div style="text-align: center; margin-bottom: 2rem;">
                                <div class="lock-icon" style="margin: 0 auto 1rem;">ðŸ”‘</div>
                                <h1 class="text-white" style="font-size: 2rem; margin-bottom: 0.5rem;">RÃ©initialiser mot de passe</h1>
                                <p class="text-cyan">RÃ©pondez Ã  votre question de sÃ©curitÃ©</p>
                            </div>
                            
                            <form id="reset-form" style="display: flex; flex-direction: column; gap: 1rem;">
                                <div>
                                    <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Nom utilisateur</label>
                                    <input type="text" id="reset-username" class="input" placeholder="votre-nom" required>
                                </div>
                                <div id="question-container" style="display: none;">
                                    <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;" id="question-label">Question de sÃ©curitÃ©</label>
                                    <input type="text" id="reset-answer" class="input" placeholder="Votre rÃ©ponse">
                                </div>
                                <div id="password-container" style="display: none;">
                                    <div style="margin-bottom: 1rem;">
                                        <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Nouveau mot de passe</label>
                                        <input type="password" id="reset-newpassword" class="input" placeholder="nouveau mot de passe">
                                    </div>
                                    <div>
                                        <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Confirmer</label>
                                        <input type="password" id="reset-confirm" class="input" placeholder="confirmer">
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-success" style="width: 100%; padding: 1rem;">RÃ©initialiser</button>
                                <button type="button" class="btn btn-link" onclick="app.resetMode=false; app.render()" style="width: 100%;">Retour Ã  la connexion</button>
                            </form>
                        </div>
                    </div>
                `;
            }

            renderLogin() {
                return `
                    <div class="container" style="min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                        <div class="card" style="max-width: 500px; width: 100%;">
                            <div style="text-align: center; margin-bottom: 2rem;">
                                <div class="lock-icon" style="margin: 0 auto 1rem;">ðŸ”’</div>
                                <h1 class="text-white" style="font-size: 2rem; margin-bottom: 0.5rem;">Livret de Musculation</h1>
                                <p class="text-cyan">Formation CAP</p>
                            </div>
                            
                            <div class="flex gap-2 mb-4">
                                <button class="btn btn-${this.loginMode === 'login' ? 'primary' : 'secondary'}" style="flex: 1;" onclick="app.loginMode='login'; app.render()">Connexion</button>
                                <button class="btn btn-${this.loginMode === 'signup' ? 'primary' : 'secondary'}" style="flex: 1;" onclick="app.loginMode='signup'; app.render()">Inscription</button>
                            </div>

                            ${this.loginMode === 'login' ? this.renderLoginForm() : this.renderSignupForm()}
                            
                            <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(6, 182, 212, 0.2); border-radius: 0.75rem; border: 1px solid rgba(6, 182, 212, 0.3);">
                                <p class="text-center" style="color: #67e8f9; font-size: 0.875rem;">Chaque Ã©lÃ¨ve crÃ©e son propre compte</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderLoginForm() {
                return `
                    <form id="login-form" style="display: flex; flex-direction: column; gap: 1rem;">
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Nom utilisateur</label>
                            <input type="text" id="login-username" class="input" placeholder="votre-nom" required>
                        </div>
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Mot de passe</label>
                            <input type="password" id="login-password" class="input" placeholder="mot de passe" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem;">Se connecter</button>
                        <button type="button" class="btn btn-link" onclick="app.resetMode=true; app.render()" style="width: 100%;">Mot de passe oubliÃ© ?</button>
                    </form>
                `;
            }

            renderSignupForm() {
                return `
                    <form id="signup-form" style="display: flex; flex-direction: column; gap: 1rem;">
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Nom complet</label>
                            <input type="text" id="signup-fullname" class="input" placeholder="PrÃ©nom Nom" required>
                        </div>
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Nom utilisateur</label>
                            <input type="text" id="signup-username" class="input" placeholder="votre-nom" required>
                            <p style="color: #67e8f9; font-size: 0.75rem; margin-top: 0.25rem;">Sans espaces ni caractÃ¨res spÃ©ciaux</p>
                        </div>
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Mot de passe</label>
                            <input type="password" id="signup-password" class="input" placeholder="mot de passe" required>
                        </div>
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Confirmer</label>
                            <input type="password" id="signup-confirm" class="input" placeholder="confirmer" required>
                        </div>
                        <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 1rem; margin-top: 0.5rem;">
                            <p class="text-white mb-2" style="font-size: 0.875rem; font-weight: 600;">Question de sÃ©curitÃ©</p>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Choisissez une question</label>
                            <select id="signup-question" class="input" required>
                                ${securityQuestions.map((q, i) => `<option value="${i}">${q}</option>`).join('')}
                            </select>
                        </div>
                        <div>
                            <label class="text-cyan mb-1" style="display: block; font-size: 0.875rem; font-weight: 500;">Votre rÃ©ponse</label>
                            <input type="text" id="signup-answer" class="input" placeholder="Votre rÃ©ponse" required>
                            <p style="color: #67e8f9; font-size: 0.75rem; margin-top: 0.25rem;">MÃ©morisez bien votre rÃ©ponse</p>
                        </div>
                        <button type="submit" class="btn btn-success" style="width: 100%; padding: 1rem;">CrÃ©er mon compte</button>
                    </form>
                `;
            }

            renderDashboard() {
                return `
                    <div class="container">
                        <div class="card">
                            <div class="flex justify-between items-center" style="flex-wrap: wrap; gap: 1rem;">
                                <div class="flex items-center gap-3">
                                    <div style="width: 3rem; height: 3rem; background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%); border-radius: 0.75rem; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">ðŸ‘¤</div>
                                    <div>
                                        <h1 class="text-white" style="font-size: 1.5rem; font-weight: bold;">Bienvenue ${this.currentUser.fullName}</h1>
                                        <p class="text-cyan">@${this.currentUser.username}</p>
                                    </div>
                                </div>
                                <div class="flex gap-2">
                                    <button class="btn btn-success" onclick="app.saveUserData()">ðŸ’¾ Sauvegarder</button>
                                    <button class="btn btn-secondary" onclick="app.handleLogout()">ðŸšª DÃ©connexion</button>
                                </div>
                            </div>
                        </div>

                        <div class="flex gap-2 mb-4" style="overflow-x: auto;">
                            <button class="tab-btn ${this.currentTab === 'sessions' ? 'active' : ''}" onclick="app.currentTab='sessions'; app.render()">ðŸ“… SÃ©ances</button>
                            <button class="tab-btn ${this.currentTab === 'rm' ? 'active' : ''}" onclick="app.currentTab='rm'; app.render()">ðŸ’ª Calculateur RM</button>
                        </div>

                        ${this.currentTab === 'sessions' ? this.renderSessionsTab() : this.renderRMTab()}
                    </div>
                `;
            }

            renderSessionsTab() {
                return `
                    <button class="btn btn-primary" style="width: 100%; padding: 1.5rem; font-size: 1.25rem; margin-bottom: 1.5rem;" onclick="app.createNewSession()">âž• CrÃ©er une nouvelle sÃ©ance</button>

                    <div class="card">
                        <h2 class="text-white mb-4" style="font-size: 1.5rem; font-weight: bold;">ðŸ“… Mes sÃ©ances (${this.sessions.length})</h2>
                        
                        ${this.sessions.length === 0 ? `
                            <div style="padding: 3rem; text-align: center; background: rgba(255, 255, 255, 0.05); border-radius: 1rem; border: 1px solid rgba(255, 255, 255, 0.1);">
                                <p class="text-cyan" style="font-size: 1.125rem;">Aucune sÃ©ance</p>
                            </div>
                        ` : this.sessions.sort((a, b) => new Date(b.date) - new Date(a.date)).map(session => this.renderSessionCard(session)).join('')}
                    </div>
                `;
            }

            renderRMTab() {
                const bestByGroup = this.getBestRMByMuscleGroup();
                const muscleGroupIcons = {
                    'Pectoraux': 'ðŸ’ª',
                    'Dorsaux': 'ðŸ‹ï¸',
                    'Ã‰paules': 'ðŸ¤¸',
                    'Biceps': 'ðŸ’ª',
                    'Triceps': 'ðŸ’ª',
                    'Quadriceps': 'ðŸ¦µ',
                    'Ischio-jambiers': 'ðŸ¦µ',
                    'Mollets': 'ðŸ¦¶',
                    'Abdominaux': 'ðŸƒ',
                    'Fessiers': 'ðŸ‘',
                    'Autre': 'ðŸŽ¯'
                };

                return `
                    <div class="card">
                        <h2 class="text-white mb-4" style="font-size: 1.75rem; font-weight: bold;">ðŸ’ª Calculateur de RM</h2>
                        <p class="text-cyan mb-4">Calculez votre charge maximale thÃ©orique (1RM)</p>
                        
                        <form id="rm-form" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                            <div>
                                <label class="text-cyan mb-1" style="display: block; font-weight: 500;">Exercice</label>
                                <input type="text" id="rm-exercice" class="input" placeholder="Ex: DÃ©veloppÃ© couchÃ©" required>
                            </div>
                            <div>
                                <label class="text-cyan mb-1" style="display: block; font-weight: 500;">Charge (kg)</label>
                                <input type="number" id="rm-weight" class="input" placeholder="Ex: 80" step="0.5" required>
                            </div>
                            <div>
                                <label class="text-cyan mb-1" style="display: block; font-weight: 500;">RÃ©pÃ©titions</label>
                                <input type="number" id="rm-reps" class="input" placeholder="Ex: 8" min="1" max="12" required>
                            </div>
                            <div style="display: flex; align-items: flex-end;">
                                <button type="submit" class="btn btn-primary" style="width: 100%;">Calculer</button>
                            </div>
                        </form>

                        ${this.currentRM ? `
                            <div class="rm-result">
                                <h3 class="text-white" style="font-size: 1.25rem; font-weight: 600;">${this.currentRM.exercice}</h3>
                                <p class="text-cyan" style="margin: 0.5rem 0;">${this.currentRM.weight}kg Ã— ${this.currentRM.reps} rÃ©pÃ©titions</p>
                                <div class="rm-value">${this.currentRM.rm1} kg</div>
                                <p class="text-white" style="font-weight: 600;">1RM ThÃ©orique</p>
                                
                                <div class="percentage-grid">
                                    ${[95, 90, 85, 80, 75, 70, 65, 60].map(percent => `
                                        <div class="percentage-card">
                                            <div style="color: #06b6d4; font-size: 1.5rem; font-weight: bold;">${Math.round(this.currentRM.rm1 * percent / 100)}kg</div>
                                            <div style="color: rgba(255,255,255,0.7); font-size: 0.875rem; margin-top: 0.25rem;">${percent}%</div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}

                        <h3 class="text-white mb-4" style="font-size: 1.5rem; font-weight: bold; margin-top: 2rem;">ðŸ“Š Tableau RÃ©capitulatif par Groupe Musculaire</h3>
                        
                        ${Object.keys(bestByGroup).length === 0 ? `
                            <div style="padding: 2rem; text-align: center; background: rgba(255, 255, 255, 0.05); border-radius: 1rem;">
                                <p class="text-cyan">Aucun test effectuÃ© pour le moment</p>
                            </div>
                        ` : `
                            ${Object.entries(bestByGroup).sort(([a], [b]) => a.localeCompare(b)).map(([group, exercises]) => `
                                <div class="muscle-group-card">
                                    <div class="muscle-group-header">
                                        <div class="muscle-group-icon">${muscleGroupIcons[group] || 'ðŸ’ª'}</div>
                                        <h4 class="text-white" style="font-size: 1.25rem; font-weight: bold;">${group}</h4>
                                    </div>
                                    ${exercises.map(rm => `
                                        <div class="exercise-row">
                                            <div>
                                                <div class="text-white" style="font-weight: 600;">${rm.exercice}</div>
                                                <div class="text-cyan" style="font-size: 0.875rem;">${rm.weight}kg Ã— ${rm.reps} reps</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="color: #10b981; font-size: 1.5rem; font-weight: bold;">${rm.rm1}kg</div>
                                                <div style="color: rgba(255,255,255,0.5); font-size: 0.75rem;">1RM</div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            `).join('')}
                        `}

                        <h3 class="text-white mb-2" style="font-size: 1.25rem; font-weight: bold; margin-top: 2rem;">ðŸ“‹ Historique complet</h3>
                        
                        ${this.rmHistory.length === 0 ? `
                            <div style="padding: 2rem; text-align: center; background: rgba(255, 255, 255, 0.05); border-radius: 1rem;">
                                <p class="text-cyan">Aucun calcul enregistrÃ©</p>
                            </div>
                        ` : `
                            <div style="display: grid; gap: 1rem;">
                                ${this.rmHistory.map(rm => `
                                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.1);">
                                        <div class="flex justify-between items-center" style="flex-wrap: wrap; gap: 1rem;">
                                            <div style="flex: 1;">
                                                <h4 class="text-white" style="font-weight: 600; margin-bottom: 0.25rem;">${rm.exercice}</h4>
                                                <p class="text-cyan" style="font-size: 0.875rem;">${rm.weight}kg Ã— ${rm.reps} reps â†’ <strong style="color: #10b981;">${rm.rm1}kg</strong></p>
                                                <p style="color: rgba(255,255,255,0.5); font-size: 0.75rem; margin-top: 0.25rem;">${new Date(rm.date).toLocaleDateString('fr-FR')}</p>
                                            </div>
                                            <button class="btn btn-danger" onclick="app.deleteRM(${rm.id})">ðŸ—‘ï¸</button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `}
                    </div>
                `;
            }renderSessionCard(session) {
                const objectif = this.objectifs.find(o => o.value === session.objectif);
                const isExpanded = this.expandedSession === session.id;
                
                return `
                    <div class="session-card" onclick="app.expandedSession = app.expandedSession === ${session.id} ? null : ${session.id}; app.render()">
                        <div class="flex justify-between items-center" style="flex-wrap: wrap; gap: 1rem;">
                            <div style="flex: 1;">
                                <div class="flex items-center gap-3 mb-2" style="flex-wrap: wrap;">
                                    <span class="text-white" style="font-size: 1.125rem; font-weight: 600;">${new Date(session.date).toLocaleDateString('fr-FR')}</span>
                                    <span class="badge ${objectif.badge}">${objectif.label.split(':')[0]}</span>
                                </div>
                                <p class="text-cyan">${session.exercices.length} exercices - ${session.muscles.length} groupes</p>
                            </div>
                            <div class="flex gap-2">
                                <button class="btn" style="background: rgba(6, 182, 212, 0.2); color: #67e8f9;" onclick="event.stopPropagation(); app.currentSession = JSON.parse('${JSON.stringify(session).replace(/'/g, "\\'")}'); app.render()">Modifier</button>
                                <button class="btn btn-danger" onclick="event.stopPropagation(); app.deleteSession(${session.id})">ðŸ—‘ï¸</button>
                            </div>
                        </div>
                        
                        ${isExpanded ? `
                            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255, 255, 255, 0.2);">
                                <div class="mb-2">
                                    <h4 class="text-white mb-1" style="font-weight: 600;">Muscles</h4>
                                    <div class="flex gap-2" style="flex-wrap: wrap;">
                                        ${session.muscles.map(m => `<span style="padding: 0.25rem 0.75rem; background: rgba(6, 182, 212, 0.3); color: #67e8f9; border-radius: 0.5rem; font-size: 0.875rem;">${m}</span>`).join('')}
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <h4 class="text-white mb-1" style="font-weight: 600;">Exercices</h4>
                                    ${session.exercices.map(ex => `
                                        <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem; border-radius: 0.5rem; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.8);">
                                            ${ex.nom} - ${ex.series}x${ex.repetitions} @ ${ex.charge}kg
                                        </div>
                                    `).join('')}
                                </div>
                                ${session.ressenti ? `
                                    <div>
                                        <h4 class="text-white mb-1" style="font-weight: 600;">Ressenti</h4>
                                        <p style="color: rgba(255, 255, 255, 0.7);">${session.ressenti}</p>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            renderSessionForm() {
                const currentObjectif = this.objectifs.find(o => o.value === this.currentSession.objectif);
                
                return `
                    <div class="container">
                        <div class="card">
                            <div class="flex justify-between items-center mb-4" style="flex-wrap: wrap; gap: 1rem;">
                                <h2 class="text-white" style="font-size: 1.75rem; font-weight: bold;">Nouvelle SÃ©ance</h2>
                                <div class="flex gap-2">
                                    <button class="btn btn-secondary" onclick="app.currentSession = null; app.render()">Annuler</button>
                                    <button class="btn btn-success" onclick="app.saveSession()">ðŸ’¾ Enregistrer</button>
                                </div>
                            </div>

                            <div class="grid grid-cols-2 gap-3 mb-4">
                                <div>
                                    <label class="text-cyan mb-1" style="display: block; font-weight: 500;">Date</label>
                                    <input type="date" id="session-date" class="input" value="${this.currentSession.date}">
                                </div>
                                <div>
                                    <label class="text-cyan mb-1" style="display: block; font-weight: 500;">Objectif</label>
                                    <select id="session-objectif" class="input">
                                        ${this.objectifs.map(obj => `<option value="${obj.value}" ${obj.value === this.currentSession.objectif ? 'selected' : ''}>${obj.label}</option>`).join('')}
                                    </select>
                                </div>
                            </div>

                            <div style="background: linear-gradient(135deg, rgba(251, 146, 60, 0.2) 0%, rgba(249, 115, 22, 0.2) 100%); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid rgba(251, 146, 60, 0.3);">
                                <h3 class="text-white mb-2" style="font-size: 1.25rem; font-weight: bold;">ðŸ”¥ Ã‰chauffement</h3>
                                <div style="display: flex; flex-direction: column; gap: 1rem;">
                                    <div>
                                        <label style="display: block; color: #fed7aa; margin-bottom: 0.5rem;">1. Cardio (5-10 min)</label>
                                        <input type="text" id="echauf-cardio" class="input" placeholder="Ex: VÃ©lo" value="${this.currentSession.echauffement.cardio}">
                                    </div>
                                    <div>
                                        <label style="display: block; color: #fed7aa; margin-bottom: 0.5rem;">2. Mobilisation articulaire</label>
                                        <input type="text" id="echauf-mobilisation" class="input" placeholder="Ex: Rotations" value="${this.currentSession.echauffement.mobilisation}">
                                    </div>
                                    <div>
                                        <label style="display: block; color: #fed7aa; margin-bottom: 0.5rem;">3. Activation musculaire</label>
                                        <input type="text" id="echauf-activation" class="input" placeholder="Ex: SÃ©ries lÃ©gÃ¨res" value="${this.currentSession.echauffement.activation}">
                                    </div>
                                </div>
                            </div>

                            <div style="background: rgba(6, 182, 212, 0.2); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid rgba(6, 182, 212, 0.3);">
                                <div class="flex justify-between items-center mb-2" style="flex-wrap: wrap; gap: 1rem;">
                                    <h3 class="text-white" style="font-size: 1.25rem; font-weight: bold;">ðŸŽ¯ Exercices - ${currentObjectif.label}</h3>
                                    <button class="btn btn-primary" onclick="app.addExercice()">âž• Ajouter</button>
                                </div>
                                
                                <div id="exercices-list"></div>
                            </div>

                            <div class="card mb-4">
                                <h3 class="text-white mb-2" style="font-size: 1.25rem; font-weight: bold;">ðŸ’ª Muscles travaillÃ©s</h3>
                                <div class="grid grid-cols-5 gap-2" id="muscles-list"></div>
                            </div>

                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="text-cyan mb-1" style="display: block; font-weight: 500;">Ressenti</label>
                                    <textarea id="session-ressenti" class="input" style="height: 6rem;" placeholder="Comment vous Ãªtes-vous senti">${this.currentSession.ressenti}</textarea>
                                </div>
                                <div>
                                    <label class="text-cyan mb-1" style="display: block; font-weight: 500;">Progression</label>
                                    <textarea id="session-progression" class="input" style="height: 6rem;" placeholder="Augmentation charges">${this.currentSession.progression}</textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            attachLoginEvents() {
                const loginForm = document.getElementById('login-form');
                const signupForm = document.getElementById('signup-form');
                
                if (loginForm) {
                    loginForm.addEventListener('submit', (e) => this.handleLogin(e));
                }
                
                if (signupForm) {
                    signupForm.addEventListener('submit', (e) => this.handleSignup(e));
                }
            }

            attachResetEvents() {
                const resetForm = document.getElementById('reset-form');
                const usernameInput = document.getElementById('reset-username');
                
                if (usernameInput) {
                    usernameInput.addEventListener('blur', () => {
                        const username = usernameInput.value;
                        if (username) {
                            const userKey = `user-${username}`;
                            const userResult = storage.get(userKey, true);
                            
                            if (userResult) {
                                const userData = JSON.parse(userResult.value);
                                const questionContainer = document.getElementById('question-container');
                                const questionLabel = document.getElementById('question-label');
                                const passwordContainer = document.getElementById('password-container');
                                
                                questionLabel.textContent = securityQuestions[userData.securityQuestion];
                                questionContainer.style.display = 'block';
                                passwordContainer.style.display = 'block';
                            }
                        }
                    });
                }
                
                if (resetForm) {
                    resetForm.addEventListener('submit', (e) => this.handlePasswordReset(e));
                }
            }

            attachDashboardEvents() {
                const rmForm = document.getElementById('rm-form');
                if (rmForm) {
                    rmForm.addEventListener('submit', (e) => this.calculateRM(e));
                }
            }

            attachSessionFormEvents() {
                this.renderExercices();
                this.renderMuscles();
            }

            renderExercices() {
                const container = document.getElementById('exercices-list');
                if (!container) return;
                
                container.innerHTML = this.currentSession.exercices.map((ex, index) => `
                    <div style="background: rgba(255, 255, 255, 0.1); border-radius: 0.75rem; padding: 1rem; margin-bottom: 0.75rem; border: 1px solid rgba(255, 255, 255, 0.2);">
                        <div class="grid grid-cols-5 gap-2 mb-2">
                            <input type="text" class="input" placeholder="Exercice" value="${ex.nom}" style="grid-column: span 2;" data-index="${index}" data-field="nom">
                            <input type="text" class="input" placeholder="SÃ©ries" value="${ex.series}" data-index="${index}" data-field="series">
                            <input type="text" class="input" placeholder="Reps" value="${ex.repetitions}" data-index="${index}" data-field="repetitions">
                            <input type="text" class="input" placeholder="Charge" value="${ex.charge}" data-index="${index}" data-field="charge">
                        </div>
                        <div class="flex gap-2">
                            <input type="text" class="input" placeholder="Repos ex: 90s" value="${ex.repos}" style="flex: 1;" data-index="${index}" data-field="repos">
                            <button class="btn btn-danger" onclick="app.removeExercice(${index})">ðŸ—‘ï¸</button>
                        </div>
                    </div>
                `).join('');

                container.querySelectorAll('input').forEach(input => {
                    input.addEventListener('input', (e) => {
                        const index = parseInt(e.target.dataset.index);
                        const field = e.target.dataset.field;
                        this.currentSession.exercices[index][field] = e.target.value;
                    });
                });
            }

            switchCoursTab(tab) {
                this.activeCoursTab = tab;
                this.render();
            }

            startQuiz() {
                this.quizScore = 0;
                this.quizCurrentQuestion = 0;
                this.quizAnswers = [];
                this.render();
            }

            answerQuiz(selectedIndex) {
                const question = coursData.quizQuestions[this.quizCurrentQuestion];
                const isCorrect = selectedIndex === question.correct;
                
                this.quizAnswers.push({
                    question: question.question,
                    selected: selectedIndex,
                    correct: question.correct,
                    isCorrect: isCorrect
                });
                
                if (isCorrect) {
                    this.quizScore++;
                }
                
                const options = document.querySelectorAll('.quiz-option');
                options[selectedIndex].classList.add(isCorrect ? 'correct' : 'incorrect');
                options[question.correct].classList.add('correct');
                options.forEach(opt => opt.style.pointerEvents = 'none');
                
                document.getElementById('quiz-explanation').innerHTML = `
                    <div class="info-box" style="margin-top: 1rem;">
                        <strong>${isCorrect ? 'âœ… Correct !' : 'âŒ Incorrect'}</strong><br>
                        ${question.explication}
                    </div>
                `;
                
                setTimeout(() => {
                    if (this.quizCurrentQuestion < coursData.quizQuestions.length - 1) {
                        this.quizCurrentQuestion++;
                        this.render();
                    } else {
                        this.showQuizResults();
                    }
                }, 3000);
            }

            showQuizResults() {
                const percentage = (this.quizScore / coursData.quizQuestions.length * 100).toFixed(0);
                let message = '';
                let emoji = '';
                
                if (percentage >= 90) {
                    message = 'Excellent ! Vous maÃ®trisez l\'anatomie !';
                    emoji = 'ðŸ†';
                } else if (percentage >= 70) {
                    message = 'TrÃ¨s bien ! Quelques rÃ©visions et ce sera parfait !';
                    emoji = 'ðŸŒŸ';
                } else if (percentage >= 50) {
                    message = 'Pas mal ! Continuez Ã  apprendre !';
                    emoji = 'ðŸ‘';
                } else {
                    message = 'Il faut rÃ©viser un peu plus !';
                    emoji = 'ðŸ“š';
                }
                
                document.getElementById('app-container').innerHTML = `
                    <div class="card">
                        <div class="text-center">
                            <h2 class="text-white mb-4" style="font-size: 2rem;">RÃ©sultats du Quiz ${emoji}</h2>
                            <div style="font-size: 4rem; margin: 2rem 0;">
                                ${percentage}%
                            </div>
                            <h3 class="text-cyan mb-4" style="font-size: 1.5rem;">
                                ${this.quizScore} / ${coursData.quizQuestions.length} bonnes rÃ©ponses
                            </h3>
                            <p class="text-white mb-4" style="font-size: 1.25rem;">${message}</p>
                            <div class="flex gap-3" style="justify-content: center;">
                                <button class="btn btn-primary" onclick="app.startQuiz()">ðŸ”„ Recommencer</button>
                                <button class="btn btn-secondary" onclick="app.switchCoursTab('mobiles'); app.render();">ðŸ“š Retour aux cours</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderCoursTab() {
                return `
                    <div>
                        <div class="flex gap-2 mb-4" style="overflow-x: auto; flex-wrap: wrap;">
                            <button class="sub-tab-btn ${this.activeCoursTab === 'mobiles' ? 'active' : ''}" onclick="app.switchCoursTab('mobiles')">ðŸŽ¯ Mobiles</button>
                            <button class="sub-tab-btn ${this.activeCoursTab === 'nutrition' ? 'active' : ''}" onclick="app.switchCoursTab('nutrition')">ðŸŽ Nutrition</button>
                            <button class="sub-tab-btn ${this.activeCoursTab === 'hygiene' ? 'active' : ''}" onclick="app.switchCoursTab('hygiene')">ðŸ’¤ HygiÃ¨ne de vie</button>
                            <button class="sub-tab-btn ${this.activeCoursTab === 'conseils' ? 'active' : ''}" onclick="app.switchCoursTab('conseils')">â±ï¸ Conseils sÃ©ance</button>
                            <button class="sub-tab-btn ${this.activeCoursTab === 'quiz' ? 'active' : ''}" onclick="app.switchCoursTab('quiz')">ðŸ§  Quiz anatomique</button>
                            <button class="sub-tab-btn ${this.activeCoursTab === 'anatomie' ? 'active' : ''}" onclick="app.switchCoursTab('anatomie')">ðŸ“– Planche anatomie</button>
                            <button class="sub-tab-btn ${this.activeCoursTab === 'exercices' ? 'active' : ''}" onclick="app.switchCoursTab('exercices')">ðŸ’ª Exercices de base</button>
                        </div>

                        ${this.activeCoursTab === 'mobiles' ? this.renderMobilesTab() : ''}
                        ${this.activeCoursTab === 'nutrition' ? this.renderNutritionTab() : ''}
                        ${this.activeCoursTab === 'hygiene' ? this.renderHygieneTab() : ''}
                        ${this.activeCoursTab === 'conseils' ? this.renderConseilsTab() : ''}
                        ${this.activeCoursTab === 'quiz' ? this.renderQuizTab() : ''}
                        ${this.activeCoursTab === 'anatomie' ? this.renderAnatomieTab() : ''}
                        ${this.activeCoursTab === 'exercices' ? this.renderExercicesTab() : ''}
                    </div>
                `;
            }

            renderAnatomieTab() {
                return `
                    <div>
                        <h3 class="text-white mb-3" style="font-size: 1.25rem; font-weight: bold;">ðŸ“– Planche Anatomique</h3>
                        
                        <div class="muscle-diagram">
                            <h4 class="text-cyan mb-3" style="font-size: 1.1rem;">Vue AntÃ©rieure (Devant)</h4>
                            <div style="margin-bottom: 2rem;">
                                <div class="muscle-label">DeltoÃ¯des (Ã‰paules)</div>
                                <div class="muscle-label">Pectoraux (Poitrine)</div>
                                <div class="muscle-label">Biceps (Avant du bras)</div>
                                <div class="muscle-label">Grand droit (Abdominaux)</div>
                                <div class="muscle-label">Obliques</div>
                                <div class="muscle-label">Quadriceps (Avant cuisse)</div>
                                <div class="muscle-label">Tibial antÃ©rieur</div>
                            </div>

                            <h4 class="text-cyan mb-3" style="font-size: 1.1rem;">Vue PostÃ©rieure (DerriÃ¨re)</h4>
                            <div>
                                <div class="muscle-label">TrapÃ¨ze</div>
                                <div class="muscle-label">DeltoÃ¯des postÃ©rieurs</div>
                                <div class="muscle-label">Grand dorsal (Dos)</div>
                                <div class="muscle-label">Triceps (ArriÃ¨re du bras)</div>
                                <div class="muscle-label">Lombaires</div>
                                <div class="muscle-label">Fessiers</div>
                                <div class="muscle-label">Ischio-jambiers (ArriÃ¨re cuisse)</div>
                                <div class="muscle-label">Mollets (GastrocnÃ©miens)</div>
                            </div>
                        </div>

                        <div class="info-box" style="margin-top: 2rem;">
                            <strong class="text-cyan">ðŸ’¡ Astuce:</strong>
                            <p class="text-white" style="margin-top: 0.5rem;">
                                Utilisez cette planche pour rÃ©viser l'emplacement des muscles avant de passer le quiz anatomique !
                            </p>
                        </div>
                    </div>
                `;
            }

            renderQuizTab() {
                if (this.quizCurrentQuestion >= coursData.quizQuestions.length) {
                    return '<div class="text-white">Chargement des rÃ©sultats...</div>';
                }

                const question = coursData.quizQuestions[this.quizCurrentQuestion];
                
                return `
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-white" style="font-size: 1.25rem; font-weight: bold;">ðŸ§  Quiz Anatomique</h3>
                            <span class="text-cyan">Question ${this.quizCurrentQuestion + 1} / ${coursData.quizQuestions.length}</span>
                        </div>
                        
                        <div style="background: rgba(6, 182, 212, 0.1); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <p class="text-white" style="font-size: 1.1rem; line-height: 1.6;">${question.question}</p>
                        </div>

                        <div>
                            ${question.options.map((option, index) => `
                                <div class="quiz-option" onclick="app.answerQuiz(${index})">
                                    ${String.fromCharCode(65 + index)}. ${option}
                                </div>
                            `).join('')}
                        </div>

                        <div id="quiz-explanation"></div>

                        <div style="margin-top: 2rem; text-align: center;">
                            <div class="text-cyan">Score actuel: ${this.quizScore} / ${this.quizCurrentQuestion + 1}</div>
                        </div>
                    </div>
                `;
            }

                        renderHygieneTab() {
                return `
                    <div>
                        <h3 class="text-white mb-3" style="font-size: 1.25rem; font-weight: bold;">ðŸ’¤ HygiÃ¨ne de Vie</h3>
                        
                        <div class="exercise-card">
                            <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">ðŸ˜´ Sommeil</h4>
                            <ul style="list-style: disc; padding-left: 1.5rem;">
                                ${coursData.hygiene.sommeil.map(conseil => `
                                    <li class="text-white" style="margin: 0.75rem 0;">${conseil}</li>
                                `).join('')}
                            </ul>
                        </div>

                        <div class="exercise-card">
                            <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">ðŸ’§ Hydratation</h4>
                            <ul style="list-style: disc; padding-left: 1.5rem;">
                                ${coursData.hygiene.hydratation.map(conseil => `
                                    <li class="text-white" style="margin: 0.75rem 0;">${conseil}</li>
                                `).join('')}
                            </ul>
                        </div>

                        <div class="exercise-card">
                            <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">ðŸ”„ RÃ©cupÃ©ration</h4>
                            <ul style="list-style: disc; padding-left: 1.5rem;">
                                ${coursData.hygiene.recuperation.map(conseil => `
                                    <li class="text-white" style="margin: 0.75rem 0;">${conseil}</li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }

            renderConseilsTab() {
                return `
                    <div>
                        <h3 class="text-white mb-3" style="font-size: 1.25rem; font-weight: bold;">â±ï¸ Conseils pour vos SÃ©ances</h3>
                        
                        <div class="exercise-card" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(20, 184, 166, 0.1) 100%);">
                            <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">â° Avant la sÃ©ance</h4>
                            <ul style="list-style: disc; padding-left: 1.5rem;">
                                ${coursData.conseilsSeance.avant.map(conseil => `
                                    <li class="text-white" style="margin: 0.75rem 0;">${conseil}</li>
                                `).join('')}
                            </ul>
                        </div>

                        <div class="exercise-card" style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);">
                            <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">ðŸ‹ï¸ Pendant la sÃ©ance</h4>
                            <ul style="list-style: disc; padding-left: 1.5rem;">
                                ${coursData.conseilsSeance.pendant.map(conseil => `
                                    <li class="text-white" style="margin: 0.75rem 0;">${conseil}</li>
                                `).join('')}
                            </ul>
                        </div>

                        <div class="exercise-card" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(251, 146, 60, 0.1) 100%);">
                            <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">âœ… AprÃ¨s la sÃ©ance</h4>
                            <ul style="list-style: disc; padding-left: 1.5rem;">
                                ${coursData.conseilsSeance.apres.map(conseil => `
                                    <li class="text-white" style="margin: 0.75rem 0;">${conseil}</li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }

                        renderMobilesTab() {
                return `
                    <div>
                        <h3 class="text-white mb-3" style="font-size: 1.25rem; font-weight: bold;">ðŸŽ¯ Les 3 Mobiles d'EntraÃ®nement</h3>
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Mobile</th>
                                        <th>Charges</th>
                                        <th>SÃ©ries</th>
                                        <th>RÃ©pÃ©titions</th>
                                        <th>Repos</th>
                                        <th>FrÃ©quence</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${coursData.mobiles.map(mobile => `
                                        <tr>
                                            <td><strong>${mobile.emoji} ${mobile.nom}</strong></td>
                                            <td>${mobile.charges}</td>
                                            <td>${mobile.series}</td>
                                            <td>${mobile.repetitions}</td>
                                            <td>${mobile.repos}</td>
                                            <td>${mobile.frequence}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>

                        ${coursData.mobiles.map(mobile => `
                            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 1rem; padding: 1.5rem; margin: 1.5rem 0; border-left: 4px solid #06b6d4;">
                                <h4 class="text-cyan mb-2" style="font-size: 1.1rem; font-weight: bold;">${mobile.emoji} ${mobile.nom}</h4>
                                <p class="text-white mb-2"><strong>Objectif:</strong> ${mobile.objectif}</p>
                                <p class="text-white mb-2"><strong>Tempo:</strong> ${mobile.tempo}</p>
                                <p class="text-white mb-2"><strong>Exemples:</strong> ${mobile.exemples}</p>
                                <div class="info-box">
                                    <strong class="text-cyan">âœ… BÃ©nÃ©fices:</strong>
                                    <p class="text-white" style="margin-top: 0.5rem;">${mobile.benefices}</p>
                                </div>
                                <div style="background: rgba(239, 68, 68, 0.1); border-left: 4px solid #ef4444; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem;">
                                    <strong style="color: #fca5a5;">âš ï¸ PrÃ©cautions:</strong>
                                    <p class="text-white" style="margin-top: 0.5rem;">${mobile.precautions}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            renderNutritionTab() {
                return `
                    <div>
                        <h3 class="text-white mb-3" style="font-size: 1.25rem; font-weight: bold;">ðŸŽ Plans Nutritionnels</h3>
                        
                        ${Object.values(coursData.nutritionPlans).map(plan => `
                            <div class="nutrition-plan">
                                <h4 class="text-white mb-3" style="font-size: 1.2rem; font-weight: bold;">${plan.emoji} ${plan.nom}</h4>
                                
                                <div class="grid grid-cols-2 gap-3 mb-3">
                                    <div>
                                        <strong class="text-cyan">Calories:</strong>
                                        <p class="text-white">${plan.deficit || plan.surplus || plan.calories}</p>
                                    </div>
                                    <div>
                                        <strong class="text-cyan">ProtÃ©ines:</strong>
                                        <p class="text-white">${plan.proteines}</p>
                                    </div>
                                    <div>
                                        <strong class="text-cyan">Glucides:</strong>
                                        <p class="text-white">${plan.glucides}</p>
                                    </div>
                                    <div>
                                        <strong class="text-cyan">Lipides:</strong>
                                        <p class="text-white">${plan.lipides}</p>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <strong class="text-cyan">ðŸ“‹ Exemple de journÃ©e type:</strong>
                                    <ul style="list-style: none; padding-left: 0; margin-top: 0.5rem;">
                                        ${plan.repas.map(repas => `
                                            <li class="text-white" style="padding: 0.5rem 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                                ${repas}
                                            </li>
                                        `).join('')}
                                    </ul>
                                </div>

                                <div>
                                    <strong class="text-cyan">ðŸ’¡ Conseils:</strong>
                                    <ul style="list-style: disc; padding-left: 1.5rem; margin-top: 0.5rem;">
                                        ${plan.conseils.map(conseil => `
                                            <li class="text-white" style="margin: 0.5rem 0;">${conseil}</li>
                                        `).join('')}
                                    </ul>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

                        renderExercicesTab() {
                return `
                    <div>
                        <h3 class="text-white mb-3" style="font-size: 1.25rem; font-weight: bold;">ðŸ’ª Exercices de Base par Groupe Musculaire</h3>
                        
                        ${Object.entries(coursData.exercicesBase).map(([groupe, exercices]) => `
                            <div class="exercise-card">
                                <h4 class="text-cyan mb-3" style="font-size: 1.1rem; font-weight: bold; text-transform: capitalize;">
                                    ðŸŽ¯ ${groupe}
                                </h4>
                                
                                ${exercices.map(ex => `
                                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 0.75rem; padding: 1rem; margin-bottom: 1rem; border-left: 3px solid #06b6d4;">
                                        <h5 class="text-white mb-1" style="font-weight: bold;">${ex.nom}</h5>
                                        <p class="text-cyan" style="font-size: 0.9rem; margin-bottom: 0.5rem;">${ex.description}</p>
                                        <p class="text-white" style="font-size: 0.9rem; margin-bottom: 0.5rem;">
                                            <strong>ExÃ©cution:</strong> ${ex.execution}
                                        </p>
                                        <p style="font-size: 0.85rem; color: #67e8f9;">
                                            <strong>Muscles:</strong> ${ex.muscles}
                                        </p>
                                    </div>
                                `).join('')}
                            </div>
                        `).join('')}
                    </div>
                `;
            }

                        renderMuscles() {
                const container = document.getElementById('muscles-list');
                if (!container) return;
                
                container.innerHTML = this.musclesList.map(muscle => `
                    <button class="muscle-btn ${this.currentSession.muscles.includes(muscle) ? 'active' : ''}" onclick="app.toggleMuscle('${muscle}')">
                        ${muscle}
                    </button>
                `).join('');
            }
        }

        const app = new LivretApp();
    </script>
</body>
</html>